<!DOCTYPE html>
<html lang="pt-BR">

<main class="container">
    <!-- USER VIEW -->
    <section id="user-view" class="view active">
        <div class="hero-text">
            <h1>An√°lise de <span class="gradient-text">Disponibilidade</span></h1>
            <p>Verifique instantaneamente se sua cidade comporta novos revendedores.</p>
        </div>

        <div class="glass-card search-card">
            <div class="input-group">
                <label for="cep-input">CEP da Cidade</label>
                <div class="cep-wrapper">
                    <input type="text" id="cep-input" placeholder="00000-000" maxlength="9">
                    <button id="search-cep-btn" class="icon-btn-search"><i class="fa-solid fa-search"></i></button>
                </div>
            </div>

            <div class="location-display hidden" id="location-display">
                <i class="fa-solid fa-location-dot"></i> <span id="location-text">...</span>
            </div>

            <div class="input-group">
                <label for="current-dealers">Revendedores Atuais</label>
                <input type="number" id="current-dealers" min="0" placeholder="Ex: 2">
            </div>

            <button id="check-btn" class="cta-btn" disabled>
                Verificar Disponibilidade <i class="fa-solid fa-arrow-right"></i>
            </button>
        </div>

        <div id="result-container" class="result-container hidden">
            <!-- Results injected here -->
        </div>
    </section>

    <!-- ADMIN VIEW -->
    <section id="admin-view" class="view hidden">
        <!-- Login Panel -->
        <div class="glass-card login-card" id="login-panel">
            <h2>Acesso Administrativo</h2>
            <div class="input-group">
                <input type="password" id="admin-pass" placeholder="Senha de Acesso">
            </div>
            <button id="login-btn" class="cta-btn">Entrar</button>
        </div>

        <!-- Admin Panel (Hidden by default) -->
        <div id="admin-panel" class="hidden">
            <div class="glass-card config-card" style="margin-bottom: 2rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h2>Painel de Controle</h2>
                    <button id="logout-btn" class="outline-btn">Sair</button>
                </div>

                <!-- Alert Dashboard -->
                <div id="alert-dashboard" class="alert-dashboard hidden">
                    <h3 style="color: var(--warning);"><i class="fa-solid fa-triangle-exclamation"></i> Alertas de
                        Reaquecimento</h3>
                    <div id="alert-list" class="alert-grid">
                        <!-- Alerts injected here -->
                    </div>
                </div>

                <div class="config-grid">
                    <div>
                        <h3>Regra de Densidade</h3>
                        <p>Habitantes por revendedor:</p>
                        <div class="input-group">
                            <input type="number" id="density-rule" value="5000">
                        </div>
                        <button id="save-density" class="small-btn">Salvar Regra</button>
                    </div>
                </div>
            </div>

            <div class="glass-card config-card">
                <h3>Cidades Exclusivas</h3>
                <p>Adicione cidades que n√£o aceitam novos revendedores.</p>

                <div class="exclusive-inputs">
                    <input type="text" id="exclusive-city-input" placeholder="Cidade (ex: S√£o Paulo)">
                    <select id="exclusive-uf-input">
                        <option value="" disabled selected>UF</option>
                        <!-- Populated by JS -->
                    </select>
                </div>
                <div class="input-group" style="margin-top: 0.5rem;">
                    <label class="small-label">Validade da Exclusividade (Opcional)</label>
                    <input type="date" id="exclusive-date">
                </div>

                <button id="add-exclusive-btn" class="full-width-btn">Adicionar Exclusividade</button>

                <ul id="exclusive-list" class="exclusive-list">
                    <!-- List items injected here -->
                </ul>
            </div>

            <div class="glass-card config-card" style="margin-top: 2rem;">
                <h3><i class="fa-solid fa-bell"></i> Configura√ß√£o de Alertas</h3>
                <p>Avisar vencimento com anteced√™ncia de:</p>
                <div class="input-group" style="margin-bottom: 0;">
                    <input type="number" id="warning-days" value="30">
                    <label class="small-label">Dias</label>
                </div>
                <button id="save-warning" class="small-btn">Salvar Configura√ß√£o</button>
            </div>
        </div>
    </section>
</main>

<!-- TUTORIAL MODAL -->
<div id="tutorial-modal" class="modal-overlay hidden">
    <div class="glass-card modal-content">
        <h2>Bem-vindo ao DealerCheck! üöÄ</h2>
        <p>Este sistema ajuda voc√™ a verificar a disponibilidade de pra√ßas para novos revendedores.</p>

        <div class="tutorial-steps">
            <div class="step">
                <div class="step-icon"><i class="fa-solid fa-search"></i></div>
                <p><strong>1. Digite o CEP</strong><br>O sistema localiza a cidade automaticamente.</p>
            </div>
            <div class="step">
                <div class="step-icon"><i class="fa-solid fa-users"></i></div>
                <p><strong>2. Informe Revendedores</strong><br>Quantos j√° atuam na regi√£o?</p>
            </div>
            <div class="step">
                <div class="step-icon"><i class="fa-solid fa-check-circle"></i></div>
                <p><strong>3. Veja o Resultado</strong><br>Saiba na hora se est√° Dispon√≠vel ou Indispon√≠vel.</p>
            </div>
        </div>

        <button id="close-tutorial" class="cta-btn">Entendi, vamos come√ßar!</button>
    </div>
</div>

<div id="toast-container"></div>

<!-- Cache Buster added to force update -->
<script src="app.js?v=2"></script>
</body>

</html>